webpackJsonp([1],{A6Lw:function(t,i){t.exports={apiKey:"AIzaSyCt8rorJlbWFp6TB8GlAC2090vTXmWj02M",authDomain:"findthecity-f150a.firebaseapp.com",databaseURL:"https://findthecity-f150a.firebaseio.com",projectId:"findthecity-f150a",storageBucket:"findthecity-f150a.appspot.com",messagingSenderId:"481758651916"}},NHnr:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=e("7+uW"),n=e("thjQ"),s=e.n(n),r=e("Zrlr"),c=e.n(r),o=e("wxAW"),l=e.n(o),u=e("Sazm"),d=e.n(u),v=e("A6Lw");d.a.initializeApp(v);var y=new(function(){function t(){c()(this,t)}return l()(t,[{key:"askCityList",value:function(t,i){var e=this,a=t.country,n=t.city;d.a.database().ref(a).once("value").then(function(t){if(t.val()){var s=t.val(),r=[];"USA"===a&&(r=e.USASearch(s,n,a)),"Canada"===a&&(r=e.CanadaSearch(s,n,a)),"Mexico"===a&&(r=e.MexicoSearch(s,n,a)),i(e.AddLinks(r))}else i(t.val())})}},{key:"USASearch",value:function(t,i,e){var a=[];for(var n in t){var s=t[n];for(var r in s){var c=s[r];if(c[i]){var o={City:c[i].Name,County:c[i].County,State:c[i].State,Country:e};a.push(o)}}}return a}},{key:"MexicoSearch",value:function(t,i,e){var a=[];for(var n in t){var s=t[n];for(var r in s){var c=s[r];if(c[i]){var o={City:c[i].Name,Municipality:c[i].Municipality,State:c[i].State,Country:e};a.push(o)}}}return a}},{key:"CanadaSearch",value:function(t,i,e){var a=[];for(var n in t){var s=t[n];s[i]&&a.push({City:s[i].Name,State:s[i].State,Country:e})}return a}},{key:"AddLinks",value:function(t){return t.forEach(function(t){var i="";for(var e in t)i=""===i?t[e]:i+"+"+t[e];t.mapLink="https://www.google.com/maps/embed/v1/place?key=AIzaSyB-V9QUKxnbFAnWr_9UZP6la0neIBYteZ4&q="+i,t.wiki="https://en.wikipedia.org/wiki/"+t.City+",_"+t.State,t.citydata="http://www.city-data.com/city/"+t.City+"-"+t.State+".html"}),t}}]),t}()),f={data:function(){return{searchCountry:"",searchCity:"",countryList:this.$store.state.america.list}},methods:{sendRequest:function(){var t=this,i={country:this.searchCountry,city:this.searchCity.toLowerCase().replace(/\w\S*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()}),id:this.uuidv4()};s()({title:"Loading",text:"We are looking for this city",icon:"info",buttons:!1}),y.askCityList(i,function(i){i&&(0!=i.length?(i.forEach(function(i){return t.$store.commit("addCity",i)}),s.a.close()):s()({title:"Opps",text:"Sorry, we can not find this city",icon:"error",buttons:!1}))}),this.clearRequest()},uuidv4:function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(t){return(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(6)})},clearRequest:function(){this.searchCountry="",this.searchCity=""}}},p={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"ui container",attrs:{id:"finder-panel"}},[e("form",{staticClass:"ui form ",on:{submit:function(i){i.preventDefault(),t.sendRequest(i)}}},[e("div",{staticClass:"fields"},[t._m(0),t._v(" "),e("div",{staticClass:"field four wide"},[e("select",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchCountry,expression:"searchCountry",modifiers:{trim:!0}}],staticStyle:{height:"37px !important"},attrs:{required:""},on:{change:function(i){var e=Array.prototype.filter.call(i.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.searchCountry=i.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Select county")]),t._v(" "),t._l(t.countryList,function(i){return e("option",{key:i},[t._v(t._s(i))])})],2)]),t._v(" "),e("div",{staticClass:"field six wide"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchCity,expression:"searchCity",modifiers:{trim:!0}}],attrs:{placeholder:"City/Town",type:"text",id:"select-city",required:""},domProps:{value:t.searchCity},on:{input:function(i){i.target.composing||(t.searchCity=i.target.value.trim())},blur:function(i){t.$forceUpdate()}}})])])])])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:" field three wide"},[i("button",{staticClass:"ui submit icon fluid button positive",attrs:{id:"sbtn",type:"submit"}},[i("i",{staticClass:"search icon"})])])}]};var h=e("VU/8")(f,p,!1,function(t){e("se5z")},null,null).exports,C={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"ui card"},[e("div",{staticClass:"image"},[e("iframe",{staticStyle:{border:"0"},attrs:{width:"100%",height:"auto",frameborder:"0",src:t.city.mapLink,allowfullscreen:""}})]),t._v(" "),e("div",{staticClass:"content",staticStyle:{"margin-left":"40px"}},[e("p",{staticClass:"header"},[t._v(t._s(t.city.City))]),t._v(" "),e("div",{staticClass:"description"},[t.city.County?e("p",[t._v("County: "+t._s(t.city.County))]):t._e(),t._v(" "),t.city.Municipality?e("p",[t._v("Municipality: "+t._s(t.city.Municipality))]):t._e(),t._v(" "),e("p",[t._v("State: "+t._s(t.city.State))]),t._v(" "),e("p",[t._v("Country: "+t._s(t.city.Country))])])]),t._v(" "),e("div",{staticClass:"extra content"},[e("div",{staticClass:"ui buttons"},[e("a",{staticClass:"cardLink",attrs:{href:t.city.wiki,target:"_blank"}},[t._m(0)]),t._v(" "),e("a",{staticClass:"cardLink",attrs:{href:t.city.citydata,target:"_blank"}},[t._m(1)]),t._v(" "),e("a",{staticClass:"trash icon",on:{click:function(i){t.deleteCity(t.city)}}},[t._m(2)])])])])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"ui vertical animated blue basic button cardLink",attrs:{tabindex:"0"}},[i("div",{staticClass:"hidden content"},[this._v("Wikipedia")]),this._v(" "),i("div",{staticClass:"visible content"},[i("i",{staticClass:"wikipedia icon"})])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"ui vertical animated green basic button cardLink",attrs:{tabindex:"0"}},[i("div",{staticClass:"hidden content"},[this._v("City-Data")]),this._v(" "),i("div",{staticClass:"visible content"},[i("i",{staticClass:"building outline icon"})])])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"ui vertical animated red basic button",attrs:{tabindex:"0"}},[i("div",{staticClass:"hidden content"},[this._v("Delete")]),this._v(" "),i("div",{staticClass:"visible content"},[i("i",{staticClass:"trash icon"})])])}]};var m={props:["cities"],components:{City:e("VU/8")({props:["city"],methods:{deleteCity:function(t){this.$emit("delete-city",t)}}},C,!1,function(t){e("ru7k")},null,null).exports},methods:{deleteCity:function(t){console.log(t),this.$store.commit("deleteCity",t)}}},_={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"ui container",staticStyle:{"margin-top":"5%"}},[e("div",{staticClass:"ui link cards"},t._l(t.cities,function(i){return e("city",{key:i.id,attrs:{city:i},on:{"delete-city":t.deleteCity,"update:city":function(t){i=t}}})}))])},staticRenderFns:[]},b={name:"app",components:{Finder:h,CityList:e("VU/8")(m,_,!1,null,null,null).exports},data:function(){return{cities:this.$store.state.cities.list}}},k={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{attrs:{id:"app"}},[i("finder"),this._v(" "),i("city-list",{attrs:{cities:this.cities}})],1)},staticRenderFns:[]},S=e("VU/8")(b,k,!1,null,null,null).exports,w=e("NYxO");a.a.use(w.a);var g=new w.a.Store({modules:{america:{state:{list:["USA","Canada","Mexico"]}},cities:{state:{list:[]},mutations:{addCity:function(t,i){t.list.push(i)},deleteCity:function(t,i){t.list.splice(t.list.indexOf(i),1)}}}}}),x=e("1mcD"),A=e.n(x);a.a.use(A.a),a.a.config.productionTip=!1,new a.a({el:"#app",store:g,components:{App:S},template:"<App/>"})},ru7k:function(t,i){},se5z:function(t,i){}},["NHnr"]);
//# sourceMappingURL=app.6cbfa56b515951c865d7.js.map